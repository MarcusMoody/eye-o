<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>History - Product Idea Oracle</title>
  <style>
    body{font-family:'Segoe UI',sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);min-height:100vh;margin:0;padding:20px;color:#333}
    .wrap{max-width:900px;margin:0 auto;background:#fff;border-radius:16px;padding:20px;box-shadow:0 20px 40px rgba(0,0,0,.1)}
    h1{margin:0 0 12px}
    table{width:100%;border-collapse:collapse}
    th,td{padding:10px;border-bottom:1px solid #eee;text-align:left}
    a.btn{display:inline-block;margin-top:10px;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;text-decoration:none;padding:8px 14px;border-radius:20px}
  </style>
</head>
<body>
  <div class="wrap">
    <h1>üìú Analysis History</h1>
    <table>
      <thead><tr><th>Date</th><th>Idea</th><th>Score</th><th></th></tr></thead>
      <tbody>
      {% for it in items %}
        <tr>
          <td>{{ it.created_at }}</td>
          <td style="max-width:520px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;">{{ it.idea }}</td>
          <td>{{ it.score }}</td>
          <td><a href="{{ request.url_for('view_record', rec_id=it.id) }}">View</a></td>
        </tr>
      {% endfor %}
      </tbody>
    </table>
    <a href="{{ request.url_for('homepage') }}" class="btn">‚¨ÖÔ∏è Back</a>
  </div>
</body>
</html>